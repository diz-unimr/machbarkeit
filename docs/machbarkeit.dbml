// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

//Table follows {
//  following_user_id integer
//  followed_user_id integer
//  created_at timestamp 
//}

//Table users {
//  id integer [primary key]
//  username varchar
//  role varchar
//  created_at timestamp
//}

//Table posts {
//  id integer [primary key]
//  title varchar
//  body text [note: 'Content of the post']
//  user_id integer
//  status varchar
//  created_at timestamp
//}

//Ref: posts.user_id > users.id // many-to-one

//Ref: users.id < follows.following_user_id

//Ref: users.id < follows.followed_user_id

Table modules {
  id integer [pk, increment]
  name string [not null]
  version string [not null]
}

Table ontology_concepts {
  id integer [pk, increment]
  name string [not null]
  module_id integer
  parent_id integer
}

Table filters {
  id integer [pk, increment]
  concept_id integer
}

Table termcodes {
  id integer [pk, increment]
  code string
  system string
  display string
}

// TODO
Ref: ontology_concepts.id <> termcodes.id
Ref: modules.id < ontology_concepts.module_id
Ref: ontology_concepts.id < ontology_concepts.parent_id
Ref: filters.concept_id > ontology_concepts.id // many-to-one